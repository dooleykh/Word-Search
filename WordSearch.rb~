class WordSearch
  def puzzle
    @puzzle =|| []
  end

  def letters
    @letters =|| {}
  end

  def word_list
    @word_list=|| []
  end
    
  def load_puzzle
    n = 0
    length = 0
    c = ""
    line = ""
    
    f = File.open(PUZZLE_FILE);
    while !(f.eof?)
      c = f.getc.upcase
      if c == "\n"
        if length == 0
          length = n
        else
          if length != n
            raise "Puzzle contains lines of differing lengths"
          end
        end
        puzzle << line
        line = ""
        n = 0
      else
        if letters[c]
          letters[c] = letters[c] + 1
        else
          letters[c] = 1
        end
        n = n + 1
        line << c
      end
    end
    f.close
  end

  def load_word_list
    words = File.readlines(WORDS_FILE)
    words.map! do |word|
      word.chomp.upcase.gsub(' ', '')
    end
  end
end

